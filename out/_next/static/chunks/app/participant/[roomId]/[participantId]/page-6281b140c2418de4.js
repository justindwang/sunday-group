(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{4210:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(5155),r=s(2115),l=s(5863),i=s(5626);function n(e){let{roomId:t,participantId:s}=e,{participants:n,groups:o,isGroupsFormed:d}=(0,l.n)(),[c,u]=(0,r.useState)(void 0),[h,m]=(0,r.useState)(void 0);return((0,r.useEffect)(()=>{let e=n.find(e=>e.id===s);u(e),e&&e.groupId&&o?m(o.find(t=>t.id===e.groupId)):m(void 0)},[n,o,s]),c)?(0,a.jsxs)("div",{className:"min-h-screen p-6",children:[(0,a.jsxs)("header",{className:"mb-8 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Sunday Group"}),(0,a.jsxs)("p",{className:"text-lg",children:["Welcome, ",c.name,"!"]})]}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:d?h?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Your Group"}),(0,a.jsx)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:h.name})]}),(0,a.jsx)(i.A,{groups:[h],highlightGroupId:h.id})]}):(0,a.jsxs)("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Group Assignment Pending"}),(0,a.jsx)("p",{children:"You haven't been assigned to a group yet. Please wait..."})]}):(0,a.jsxs)("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Waiting for groups to be formed"}),(0,a.jsx)("p",{className:"mb-6",children:"The host will form groups soon. Please wait..."}),(0,a.jsxs)("div",{className:"animate-pulse flex space-x-4 justify-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-blue-400 h-3 w-3"}),(0,a.jsx)("div",{className:"rounded-full bg-blue-400 h-3 w-3"}),(0,a.jsx)("div",{className:"rounded-full bg-blue-400 h-3 w-3"})]})]})})]}):(0,a.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 text-center",children:"Participant not found. Please try joining again."})})}},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155);function r(e){let{groups:t,highlightGroupId:s}=e;return t&&0!==t.length?(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Groups"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"\n              bg-white dark:bg-gray-800 \n              rounded-lg shadow-md overflow-hidden\n              border-t-4 border-blue-500\n              ".concat(s===e.id?"ring-2 ring-blue-500 ring-offset-2":"","\n            "),children:[(0,a.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900",children:(0,a.jsx)("h3",{className:"text-xl font-bold text-center",children:e.name})}),(0,a.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.participants.map(e=>(0,a.jsxs)("li",{className:"\n                    p-4 flex items-center justify-between\n                    ".concat(e.isWillingToLead?"bg-blue-50 dark:bg-blue-900/30":"","\n                  "),children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),e.isWillingToLead&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:"Leader"})]},e.id))})]},e.id))})]}):(0,a.jsx)("div",{className:"text-center p-8",children:(0,a.jsx)("p",{className:"text-lg",children:"No groups have been formed yet."})})}s(2115)},5863:(e,t,s)=>{"use strict";s.d(t,{RoomProvider:()=>d,n:()=>c});var a=s(5155),r=s(2115);let l=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"];function i(){return Math.random().toString(36).substring(2,9)}let n=(0,r.createContext)(void 0),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return t;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse JSON from localStorage:",e),t}};function d(e){let{children:t}=e,[s,d]=(0,r.useState)(()=>localStorage.getItem("roomId")||i()),[c,u]=(0,r.useState)(()=>o(localStorage.getItem("participants"),[])),[h,m]=(0,r.useState)(()=>o(localStorage.getItem("groups"),null)),[g,x]=(0,r.useState)(()=>"true"===localStorage.getItem("isGroupsFormed"));(0,r.useEffect)(()=>{localStorage.setItem("roomId",s),localStorage.setItem("participants",JSON.stringify(c)),localStorage.setItem("groups",h?JSON.stringify(h):""),localStorage.setItem("isGroupsFormed",g.toString())},[s,c,h,g]);let p=(e,t)=>{let s={id:i(),name:e,isWillingToLead:t};return u(e=>[...e,s]),s};return(0,a.jsx)(n.Provider,{value:{roomId:s,participants:c,groups:h,isGroupsFormed:g,addParticipant:p,addParticipantManually:(e,t)=>{p(e,t)},removeParticipant:e=>{u(t=>t.filter(t=>t.id!==e))},formGroups:()=>{let e=function(e){if(0===e.length)return[];let t=e.filter(e=>e.isWillingToLead),s=e.length,a=Math.floor(s/4),r=Math.ceil(s/6);if(t.length<r)return null;let n=Math.min(a,t.length);n=Math.max(n,r);let o=[...e].sort(()=>Math.random()-.5),d=o.filter(e=>e.isWillingToLead),c=o.filter(e=>!e.isWillingToLead),u=[];for(let e=0;e<n;e++)e<d.length&&u.push({id:i(),name:l[Math.floor(Math.random()*l.length)],participants:[d[e]],hasLeader:!0});for(let e=n;e<d.length;e++)u[e%n].participants.push(d[e]);for(let e=0;e<c.length;e++){let t=u.map((e,t)=>({index:t,count:e.participants.length})).sort((e,t)=>e.count-t.count)[0].index;u[t].participants.push(c[e])}return u.forEach(e=>{e.participants.forEach(t=>{t.groupId=e.id})}),u}(c);return null!==e&&(m(e),x(!0),!0)},resetGroups:()=>{m(null),x(!1),u(e=>e.map(e=>({...e,groupId:void 0})))},resetRoom:()=>{d(i()),u([]),m(null),x(!1)}},children:t})}function c(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useRoom must be used within a RoomProvider");return e}},8607:(e,t,s)=>{Promise.resolve().then(s.bind(s,4210))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8607)),_N_E=e.O()}]);