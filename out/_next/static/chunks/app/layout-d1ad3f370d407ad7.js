(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5271:(e,t,a)=>{Promise.resolve().then(a.bind(a,5863)),Promise.resolve().then(a.t.bind(a,5688,23)),Promise.resolve().then(a.t.bind(a,9432,23)),Promise.resolve().then(a.t.bind(a,9324,23))},5688:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},5863:(e,t,a)=>{"use strict";a.d(t,{RoomProvider:()=>h,n:()=>u});var o=a(5155),r=a(2115);let i=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"];function n(){return Math.random().toString(36).substring(2,9)}let s=(0,r.createContext)(void 0),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return t;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse JSON from localStorage:",e),t}};function h(e){let{children:t}=e,[a,h]=(0,r.useState)(()=>localStorage.getItem("roomId")||n()),[u,m]=(0,r.useState)(()=>l(localStorage.getItem("participants"),[])),[c,d]=(0,r.useState)(()=>l(localStorage.getItem("groups"),null)),[g,p]=(0,r.useState)(()=>"true"===localStorage.getItem("isGroupsFormed"));(0,r.useEffect)(()=>{localStorage.setItem("roomId",a),localStorage.setItem("participants",JSON.stringify(u)),localStorage.setItem("groups",c?JSON.stringify(c):""),localStorage.setItem("isGroupsFormed",g.toString())},[a,u,c,g]);let f=(e,t)=>{let a={id:n(),name:e,isWillingToLead:t};return m(e=>[...e,a]),a};return(0,o.jsx)(s.Provider,{value:{roomId:a,participants:u,groups:c,isGroupsFormed:g,addParticipant:f,addParticipantManually:(e,t)=>{f(e,t)},removeParticipant:e=>{m(t=>t.filter(t=>t.id!==e))},formGroups:()=>{let e=function(e){if(0===e.length)return[];let t=e.filter(e=>e.isWillingToLead),a=e.length,o=Math.floor(a/4),r=Math.ceil(a/6);if(t.length<r)return null;let s=Math.min(o,t.length);s=Math.max(s,r);let l=[...e].sort(()=>Math.random()-.5),h=l.filter(e=>e.isWillingToLead),u=l.filter(e=>!e.isWillingToLead),m=[];for(let e=0;e<s;e++)e<h.length&&m.push({id:n(),name:i[Math.floor(Math.random()*i.length)],participants:[h[e]],hasLeader:!0});for(let e=s;e<h.length;e++)m[e%s].participants.push(h[e]);for(let e=0;e<u.length;e++){let t=m.map((e,t)=>({index:t,count:e.participants.length})).sort((e,t)=>e.count-t.count)[0].index;m[t].participants.push(u[e])}return m.forEach(e=>{e.participants.forEach(t=>{t.groupId=e.id})}),m}(u);return null!==e&&(d(e),p(!0),!0)},resetGroups:()=>{d(null),p(!1),m(e=>e.map(e=>({...e,groupId:void 0})))},resetRoom:()=>{h(n()),m([]),d(null),p(!1)}},children:t})}function u(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useRoom must be used within a RoomProvider");return e}},9324:()=>{},9432:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var t=t=>e(e.s=t);e.O(0,[261,441,684,358],()=>t(5271)),_N_E=e.O()}]);